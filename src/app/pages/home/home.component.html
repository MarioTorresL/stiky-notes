<div class="container">
  <!-- buttons section -->
  <div class="buttons-section">
    <button
      class="btn btnGroup"
      data-bs-toggle="modal"
      data-bs-target="#addGroup"
    >
      <i class="bi bi-collection"></i> Agregar Grupo
    </button>
    <button
      class="btn btnNote"
      data-bs-target="#AddNotes"
      data-bs-toggle="modal"
    >
      <i class="bi bi-file-earmark-plus"></i> Agregar Nota
    </button>
  </div>

  <!-- Modals -->
  <div class="modal fade" id="addGroup">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">Agrega un Grupo</h1>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label"
              >Nombre</label
            >
            <input type="text" class="form-control" #nameGroup />
            <div class="d-flex justify-content-end align-items-center mt-3">
              <label class="form-label me-3">Color</label>
              <input
                type="color"
                class="form-control form-control-color"
                title="Choose your color"
                #colorGroup
              />
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cerrar
          </button>
          <button
            type="button"
            class="btn btnGroup"
            (click)="addGroup(nameGroup.value, colorGroup.value)"
            data-bs-dismiss="modal"
          >
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="AddNotes">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">Agrega una Nota</h1>
        </div>
        <div class="modal-body">
          <select class="form-select mb-3" aria-label="Default select example">
            <option value='0'>Selecciona un grupo</option>
            <option *ngFor="let grp of group" value="1">{{grp.title}}</option>
          </select>
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label"
              >Nombre Nota</label
            >
            <input type="text" class="form-control" #nameNote />
          </div>
          <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label"
              >Contenido</label
            >
            <textarea class="form-control" rows="3" #contentNote></textarea>
          </div>
          <div class="d-flex justify-content-end align-items-center">
            <label class="form-label me-3">Color</label>
            <input
              type="color"
              class="form-control form-control-color"
              title="Choose your color"
              #colorNote
            />
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button
            type="button"
            class="btn btnNote"
            (click)="
              addNotes(nameNote.value, contentNote.value, colorNote.value)
            "
            data-bs-dismiss="modal"
          >
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- end modals -->

  <!-- welcom message -->
  <div class="main">
    <div class="px-4 py-5 my-5 text-center" *ngIf="group.length == 0">
      <img
        class="d-block mx-auto mb-4"
        src="../../../assets/sticky.png"
        alt=""
        width="92"
        height="77"
      />
      <h1 class="display-5 fw-bold">Sticky Notes</h1>
      <div class="col-lg-6 mx-auto">
        <p class="lead mb-4">
          Aplicacion para ordenar tus ideas y crear notas!. Estas notas se
          pueden clasificar en grupos y colocar color por prioridad. Prueba la
          app ahora!
        </p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center"></div>
      </div>
    </div>
  </div>

  <div *ngIf="group">
    <div class="row m-3" *ngFor="let grp of group">
      <div class="card">
        <div class="card-title">Grupo {{ grp.title }}</div>
        <div class="card-body d-flex justify-content-around" *ngIf="notes.length > 0">
          <div class="card p-5" *ngFor="let note of notes">
            <h5 class="card-title">{{note.title}}</h5>
            <p class="card-text">{{note.description}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
